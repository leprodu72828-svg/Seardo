<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Seardo Search</title>
<style>
body {
  background:#020617;
  color:white;
  font-family:Arial;
  margin:0;
}

header {
  padding:30px;
  text-align:center;
}

input {
  width:60%;
  padding:12px;
  border-radius:8px;
  border:none;
  font-size:16px;
}

.filters {
  margin:20px;
  text-align:center;
}

.filters label {
  margin:0 10px;
}

button {
  padding:12px 20px;
  border-radius:8px;
  border:none;
  cursor:pointer;
  background:#38bdf8;
  font-weight:bold;
}

.results {
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(250px,1fr));
  gap:15px;
  padding:20px;
}

.card {
  background:#020617;
  border:1px solid #38bdf8;
  padding:15px;
  border-radius:10px;
}
a {color:#38bdf8;}
</style>
</head>
<body>

<header>
  <h1>üîç Seardo</h1>
  <input id="query" placeholder="Search everything...">
  <br><br>
  <button onclick="search()">Search</button>
</header>

<div class="filters">
  <label><input type="checkbox" checked id="wiki"> Wiki</label>
  <label><input type="checkbox" checked id="news"> News</label>
  <label><input type="checkbox" checked id="movies"> Movies</label>
  <label><input type="checkbox" checked id="music"> Music</label>
  <label><input type="checkbox" checked id="books"> Books</label>
</div>

<div class="results" id="results"></div>

<script>
const results = document.getElementById("results");

function card(title, content, link) {
  return `
  <div class="card">
    <h3>${title}</h3>
    <p>${content}</p>
    ${link ? `<a href="${link}" target="_blank">Open</a>` : ""}
  </div>`;
}

async function search() {
  results.innerHTML = "";
  const q = query.value;
  if (!q) return;

  if (wiki.checked) {
    const r = await fetch(`https://en.wikipedia.org/api/rest_v1/page/summary/${q}`);
    if (r.ok) {
      const d = await r.json();
      results.innerHTML += card("Wikipedia", d.extract, d.content_urls?.desktop?.page);
    }
  }

  if (news.checked) {
    const r = await fetch(`https://hn.algolia.com/api/v1/search?query=${q}`);
    const d = await r.json();
    d.hits.slice(0,3).forEach(n=>{
      results.innerHTML += card("News", n.title, n.url);
    });
  }

  if (movies.checked) {
    const r = await fetch(`https://api.tvmaze.com/search/shows?q=${q}`);
    const d = await r.json();
    d.slice(0,3).forEach(m=>{
      results.innerHTML += card("Movie", m.show.name, m.show.url);
    });
  }

  if (music.checked) {
    const r = await fetch(`https://itunes.apple.com/search?term=${q}&limit=3`);
    const d = await r.json();
    d.results.forEach(m=>{
      results.innerHTML += card("Music", m.trackName, m.trackViewUrl);
    });
  }

  if (books.checked) {
    const r = await fetch(`https://openlibrary.org/search.json?q=${q}`);
    const d = await r.json();
    d.docs.slice(0,3).forEach(b=>{
      results.innerHTML += card("Book", b.title, `https://openlibrary.org${b.key}`);
    });
  }
}
</script>

</body>
</html>
