<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Seardo OSINT</title>

<style>
:root{
  --bg:#020906;
  --panel:rgba(10,30,20,.7);
  --accent:#22ff88;
  --accent-soft:#0aff6c55;
  --text:#eafff3;
}

*{box-sizing:border-box;font-family:Inter,system-ui,Arial}
body{
  margin:0;
  min-height:100vh;
  background:
    radial-gradient(circle at 20% 10%,#0b3d25,transparent 40%),
    radial-gradient(circle at 80% 80%,#062214,transparent 40%),
    #020906;
  color:var(--text);
}

.hidden{display:none}

.glass{
  background:var(--panel);
  backdrop-filter:blur(16px);
  border:1px solid var(--accent);
  border-radius:16px;
  box-shadow:
    0 0 40px #000,
    inset 0 0 30px var(--accent-soft);
}

header{
  text-align:center;
  padding:50px 20px 30px;
}

h1{
  font-size:3.2em;
  margin:0;
  text-shadow:
    0 0 20px var(--accent),
    0 0 40px var(--accent-soft);
}

.subtitle{
  opacity:.8;
  letter-spacing:1px;
}

.container{
  max-width:520px;
  margin:40px auto;
  padding:30px;
  transform-style:preserve-3d;
}

input,select,button{
  width:100%;
  padding:14px;
  margin:10px 0;
  border-radius:10px;
  border:none;
  font-size:16px;
}

input,select{
  background:#03160e;
  color:var(--text);
  border:1px solid var(--accent);
}

button{
  background:linear-gradient(135deg,var(--accent),#5bffb0);
  color:#000;
  font-weight:700;
  cursor:pointer;
  transition:.3s;
}

button:hover{
  transform:translateY(-2px);
  box-shadow:0 0 30px var(--accent);
}

.results{
  padding:30px;
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(280px,1fr));
  gap:22px;
}

.card{
  padding:20px;
  animation:enter .5s ease;
  transform-style:preserve-3d;
}

.card:hover{
  transform:perspective(800px) rotateX(4deg) rotateY(-4deg);
  box-shadow:0 0 35px var(--accent-soft);
}

@keyframes enter{
  from{opacity:0;transform:translateY(25px)}
  to{opacity:1;transform:none}
}

a{color:var(--accent);text-decoration:none}
a:hover{text-decoration:underline}

.admin{
  margin:30px;
  padding:25px;
}

table{
  width:100%;
  border-collapse:collapse;
  font-size:14px;
}
th,td{
  border:1px solid var(--accent);
  padding:8px;
  text-align:left;
}
</style>
</head>

<body>

<header>
  <h1>SEARDO OSINT</h1>
  <div class="subtitle">Frontend Intelligence Dashboard</div>
</header>

<!-- AUTH -->
<div id="auth" class="container glass">
  <input id="email" placeholder="Email">
  <input id="password" type="password" placeholder="Password">
  <button onclick="register()">Create account</button>
  <button onclick="login()">Login</button>
</div>

<!-- APP -->
<div id="app" class="hidden">

<div class="container glass">
  <select id="type">
    <option value="">Select investigation type</option>
    <option value="ip">IP Intelligence</option>
    <option value="dns">DNS Records</option>
    <option value="domain">Domain Info</option>
    <option value="launch">OSINT Launchers</option>
  </select>

  <input id="query" placeholder="Target (IP / domain)">
  <button onclick="search()">Run analysis</button>

  <div id="role" style="margin-top:10px;opacity:.8"></div>
  <button onclick="logout()">Logout</button>
</div>

<div id="results" class="results"></div>

<!-- ADMIN -->
<div id="adminPanel" class="admin glass hidden">
  <h2>Admin Panel</h2>
  <p>Users: <span id="uCount"></span></p>
  <p>Total searches: <span id="sCount"></span></p>

  <table>
    <thead><tr><th>Email</th><th>IP</th><th>Searches</th></tr></thead>
    <tbody id="userTable"></tbody>
  </table>
</div>

</div>

<script>
/* ===== STORAGE ===== */
const getUsers=()=>JSON.parse(localStorage.getItem("users")||"[]");
const saveUsers=u=>localStorage.setItem("users",JSON.stringify(u));

/* ===== AUTH ===== */
async function register(){
  const e=email.value.trim(),p=password.value.trim();
  if(!e||!p) return alert("Missing fields");
  let u=getUsers();
  if(u.find(x=>x.email===e)) return alert("Exists");

  const ip=await fetch("https://ipapi.co/json/").then(r=>r.json());
  const role=u.length===0?"admin":"user";
  u.push({email:e,password:p,role,ip:ip.ip,searches:0});
  saveUsers(u);
  alert("Account created ("+role+")");
}

function login(){
  const u=getUsers().find(x=>x.email===email.value&&x.password===password.value);
  if(!u) return alert("Invalid login");
  localStorage.setItem("session",JSON.stringify(u));
  load();
}

function logout(){localStorage.removeItem("session");location.reload()}

/* ===== LOAD ===== */
function load(){
  const s=JSON.parse(localStorage.getItem("session"));
  if(!s) return;
  auth.classList.add("hidden");
  app.classList.remove("hidden");
  role.textContent="Role: "+s.role.toUpperCase();
  if(s.role==="admin"){adminPanel.classList.remove("hidden");renderAdmin()}
}
load();

/* ===== ADMIN ===== */
function renderAdmin(){
  const u=getUsers();
  uCount.textContent=u.length;
  sCount.textContent=u.reduce((a,b)=>a+b.searches,0);
  userTable.innerHTML="";
  u.forEach(x=>{
    userTable.innerHTML+=`<tr><td>${x.email}</td><td>${x.ip}</td><td>${x.searches}</td></tr>`;
  });
}

/* ===== SEARCH ===== */
async function search(){
  const q=query.value.trim(),t=type.value;
  if(!q||!t) return alert("Select type + target");

  let u=getUsers();
  let s=JSON.parse(localStorage.getItem("session"));
  let me=u.find(x=>x.email===s.email);
  me.searches++; saveUsers(u); localStorage.setItem("session",JSON.stringify(me));

  results.innerHTML="";

  if(t==="ip"){
    const d=await fetch(`https://ipapi.co/${q}/json/`).then(r=>r.json());
    results.innerHTML+=card("IP Intelligence",
      `Country: ${d.country_name}<br>City: ${d.city}<br>ISP: ${d.org}<br>
      <a target="_blank" href="https://www.google.com/maps?q=${d.latitude},${d.longitude}">üìç Google Maps</a>`);
  }

  if(t==="dns"){
    const d=await fetch(`https://dns.google/resolve?name=${q}&type=A`).then(r=>r.json());
    d.Answer?.forEach(a=>results.innerHTML+=card("DNS Record",a.data));
  }

  if(t==="domain"){
    const d=await fetch(`https://api.domainsdb.info/v1/domains/search?domain=${q}`).then(r=>r.json());
    d.domains?.slice(0,3).forEach(x=>{
      results.innerHTML+=card("Domain",`${x.domain}<br>${x.country}`);
    });
  }

  if(t==="launch"){
    results.innerHTML+=card("OSINT Launchers",`
      <a target="_blank" href="https://who.is/whois/${q}">WHOIS</a><br>
      <a target="_blank" href="https://viewdns.info/reverseip/?host=${q}">Reverse IP</a><br>
      <a target="_blank" href="https://www.abuseipdb.com/check/${q}">AbuseIPDB</a><br>
      <a target="_blank" href="https://www.virustotal.com/gui/search/${q}">VirusTotal</a>
    `);
  }

  if(me.role==="admin") renderAdmin();
}

const card=(t,c)=>`<div class="card glass"><h3>${t}</h3><p>${c}</p></div>`;
</script>

</body>
</html>
